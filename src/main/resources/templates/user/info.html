<!DOCTYPE html>
<html lang="zh-cn" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>我的资料</title>
    <link rel="icon" href="/img/logo.png" type="image/x-icon"/>
    <link rel="stylesheet" href="/css/bootstrap.css">
    <link rel="stylesheet" href="/css/comm.css">
    <link rel="stylesheet" href="/css/user_comm.css">
    <link rel="stylesheet" href="/css/user_info.css">
</head>
<body>

<!-- 导航 -->
<nav th:replace="~{comm::nav}"></nav>

<!--顶部信息栏-->
<div th:replace="~{user/comm::topbar}"></div>

<!--个人资料-->
<div class="container info user-comm mb-5">
    <div class="row">
        <!--用户侧边导航栏-->
        <div th:replace="~{user/comm::sidebar}"></div>
        <!-- 内容区域 -->
        <div class="col-md-9 col-xl-10">
            <div class="card">
                <!-- 标题栏 -->
                <div class="card-header">
                    <h5 class="card-title">我的资料</h5>
                </div>
                <!-- 内容栏 -->
                <div class="card-body pb-0">
                    <form id="info" method="post" enctype="multipart/form-data">
                        <div class="row form-group">
                            <label class="col-sm-2 col-form-label input-label my-auto">头像</label>

                            <div class="col-sm-10">
                                <div class="media align-items-center">
                                    <label class="avatar avatar-xl avatar-circle mr-4">
                                        <img id="avatarImg" class="avatar-img"
                                             th:src="${session.user.getAvatar()} ?: '/img/user/default_avatar.png'"
                                             alt="头像">
                                    </label>

                                    <div class="media-body">
                                        <div class="btn btn-sm btn-primary file-attachment-btn mb-2 mb-sm-0 mr-2">更换头像
                                            <input type="file" class="js-file-attach file-attachment-btn-label"
                                                   name="pic" id="avatarUploader">
                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row form-group">
                            <label class="col-sm-2 col-form-label input-label">用户名 </label>

                            <div class="col-sm-10">
                                <div class="input-group">
                                    <input type="text" class="form-control" name="name"
                                           th:value="${session.user.getName()}" id="firstNameLabel"
                                           aria-label="Clarice">
                                </div>
                            </div>
                        </div>
                        <div class="row form-group">
                            <label class="col-sm-2 col-form-label input-label">邮箱</label>

                            <div class="col-sm-10">
                                <label class=" col-form-label input-label" th:text="${session.user.getEmail()}"></label>
                            </div>
                        </div>
                        <div class="col-12 text-right pr-0 mb-4">
                            <button type="submit" form="info" class="btn btn-primary">保存</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

</div>

<!-- 底部 -->
<div th:replace="~{comm::footer}"></div>
<!--全局脚本-->
<div th:replace="~{comm::script}"></div>
<script src="/js/user_info.js"></script>

</body>
</html>